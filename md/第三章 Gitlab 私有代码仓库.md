> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [www.cnblogs.com](https://www.cnblogs.com/jhno1/p/14947806.html)

作者：[@青青子衿悠悠我心](https://home.cnblogs.com/u/jhno1/)  
本文为作者原创，转载请注明出处：[https://www.cnblogs.com/jhno1/p/14947806.html](https://www.cnblogs.com/jhno1/p/14947806.html)

一、持续集成简介
--------

### 1. 软件开发生命周期

```
软件开发生命周期又叫做SDLC(Software Development Life Cycle)，它是集合了计划、开发、测试 和部署过程的集合。

1.需求分析
这是生命周期的第一阶段，根据项目需求，团队执行一个可行性计划的分析。项目需求可能是公司内部或者客户提出的。这阶段主要是对信息的收集，也有可能是对现有项目的改善和重新做一个新的项目。还要分析项目的预算多长，可以从哪方面受益及布局，这也是项目创建的目标。

2.设计
第二阶段就是设计阶段，系统架构和满意状态(就是要做成什么样子，有什么功能)，和创建一个项目计划。计划可以使用图表，布局设计或者文者的方式呈现。

3.实现
第三阶段就是实现阶段，项目经理创建和分配工作给开者，开发者根据任务和在设计阶段定义的目标进行开发代码。依据项目的大小和复杂程度，可以需要数月或更长时间才能完成。

4.测试
测试人员进行代码测试 ，包括功能测试、代码测试、压力测试等。

5.进化
最后进阶段就是对产品不断的进化改进和维护阶段，根据用户的使用情况，可能需要对某功能进行修改，bug修复，功能增加等。


```

### 2. 敏捷开发

```
敏捷开发(Agile Development) 的核心是迭代开发(Iterative Development) 与 增量开发 (Incremental Development) 。


```

#### 1) 迭代开发

```
对于大型软件项目，传统的开发方式是采用一个大周期(比如一年)进行开发，整个过程就是一次"大开发";迭代开发的方式则不一样，它将开发过程拆分成多个小周期，即一次"大开发"变成多次"小开发"，每次小开发都是同样的流程，所以看上去就好像重复在做同样的步骤。


```

#### 2) 增量开发

```
软件的每个版本，都会新增一个用户可以感知的完整功能。也就是说，按照新增功能来划分迭代。 


```

#### 3) 敏捷开发如何迭代

```
虽然敏捷开发将软件开发分成多个迭代，但是也要求，每次迭代都是一个完整的软件开发周期，必须按照软件工程的方法论，进行正规的流程管理。


```

### 3. 持续集成

```
持续集成( Continuous integration ， 简称 CI )指的是，频繁地(一天多次)将代码集成到主干。 

持续集成的目的，就是让产品可以快速迭代，同时还能保持高质量。它的核心措施是，代码集成到主干之前，必须通过自动化测试。只要有一个测试用例失败，就不能集成。

通过持续集成，团队可以快速的从一个功能到另一个功能，简而言之，敏捷软件开发很大一部分都要归功于持续集成。

在持续集成的过程当中主要包括以下步骤：提交、测试、构建（容器需要构建， 编译型语言编译）、部署及回滚。


```

#### 1) 持续集成要素

```
1.一个自动构建过程，从检出代码、编译构建、运行测试、结果记录、测试统计等都是自动完成的，无需人工干预。 
2.一个代码存储库，即需要版本控制软件来保障代码的可维护性，同时作为构建过程的素材库，一般使用SVN或Git。
3.一个持续集成服务器， Jenkins 就是一个配置简单和使用方便的持续集成服务器。


```

#### 2) 持续集成的好处

```
1、降低风险，由于持续集成不断去构建，编译和测试，可以很早期发现问题，所以修复的代价就少
2、对系统健康持续检查，减少发布风险带来的问题
3、减少重复性工作
4、持续部署，提供可部署单元包
5、持续交付可供使用的版本
6、增强团队信心


```

二、Gitlab 概述
-----------

```
GitLab 是一个用于仓库管理系统的开源项目，使用Git作为代码管理工具，并在此基础上搭建起来的web服务。
	
GitLab和GitHub一样属于第三方基于Git开发的作品（私有仓库），GITLAB免费且开源(基于MIT协议)，与Github类似， 可以注册用户，任意提交你的代码，添加SSHKey等等。不同的是，GitLab是可以部署到自己的服务器上，数据库等一切信息都掌握在自己手上，适合团队内部协作开发，你总不可能把团队内部的智慧总放在别人的服务器上吧?简单来说可把GitLab看作个人版的GitHub。


```

三、Gitlab 官网和 logo
-----------------

```
首页：https://about.gitlab.com/
安装说明：https://about.gitlab.com/install/


```

![](https://img2022.cnblogs.com/blog/2087967/202201/2087967-20220125182338194-831290713.png)

四、Gitlab 的安装
------------

### 1. 安装相关依赖

```
[root@m01 ~]# yum -y install policycoreutils openssh-server openssh-clients postfix


```

### 2. 关闭防火墙

```
[root@m01 ~]# systemctl disable firewalld


```

### 3. 关闭 Selinux

```
[root@m01 ~]# sed -i 's#enforcing#disabled#g' /etc/sysconfig/selinux


```

### 4. 下载 Gitlab 包

```
下载网址：https://packages.gitlab.com/gitlab/gitlab-ce

[root@m01 ~]# wget --content-disposition https://packages.gitlab.com/gitlab/gitlab-ce/packages/el/7/gitlab-ce-13.0.14-ce.0.el7.x86_64.rpm/download.rpm


```

### 5. 安装 Gitlab

```
[root@m01 ~]# yum -y localinstall gitlab-ce-13.0.14-ce.0.el7.x86_64.rpm


```

### 6. 配置 Gitlab

```
[root@m01 ~]# vim /etc/gitlab/gitlab.rb
external_url 'http://10.0.0.61'
nginx['listen_port'] = 80


```

### 7. 刷新配置 (默认启动)

```
[root@m01 ~]# gitlab-ctl reconfigure


```

### 8. 启动 Gitlab

```
[root@m01 ~]# gitlab-ctl start


```

### 9. 登录测试

```
打开浏览器，访问10.0.0.61


```

![](https://img2022.cnblogs.com/blog/2087967/202201/2087967-20220125182355456-933878267.png)

五、Gitlab 添加项目、用户、组
------------------

### 1. 创建组

```
使用管理员 root 创建组，一个组里面可以有多个项目分支，可以将开发添加到组里面进行设置权限， 不同的组就是公司不同的开发项目或者服务模块，不同的组添加不同的开发即可实现对开发设置权限的管理。


```

![](https://img2022.cnblogs.com/blog/2087967/202201/2087967-20220125182410253-40316023.png)

![](https://img2022.cnblogs.com/blog/2087967/202201/2087967-20220125182415542-921575444.png)

### 2. 创建用户

![](https://img2022.cnblogs.com/blog/2087967/202201/2087967-20220125182421796-1730571012.png)

![](https://img2022.cnblogs.com/blog/2087967/202201/2087967-20220125182430989-1187212501.png)  
![](https://img2022.cnblogs.com/blog/2087967/202201/2087967-20220125182439816-1241683588.png)

### 3. 将用户绑定用户组

![](https://img2022.cnblogs.com/blog/2087967/202201/2087967-20220125182446419-207270208.png)

### 4. 添加用户有 5 种角色

```
1.	Guest:可以创建issue、发表评论，不能读写版本库 

2.	Reporter:可以克隆代码，不能提交，QA、PM 可以赋予这个权限 

3.	Developer:可以克隆代码、开发、提交、push，普通开发可以赋予这个权限 

4.	Maintainer:可以创建项目、添加tag、保护分支、添加项目成员、编辑项目，核心开发可以赋予这个 权限  - Visibility Level、删除项目、迁移项目、管理组成员，开发组组 长可以赋予这个权限

5.	Owner:可以设置项目访问权限 


```

### 5. 创建项目

![](https://img2022.cnblogs.com/blog/2087967/202201/2087967-20220125182453087-233766776.png)

```
如果您觉得阅读本文对您有帮助，请点一下“推荐”按钮，您的“推荐”将是我最大的写作动力！欢迎各位转载，但是未经作者本人同意，转载文章之后必须在文章页面明显位置给出作者和原文连接，否则保留追究法律责任的权利。

```