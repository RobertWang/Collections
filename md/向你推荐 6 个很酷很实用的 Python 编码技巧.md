> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/USX_0T6mTbQgU07QcVFiow)

> 近年来，Python 编码技能的需求不断增长。在本作者前面文章介绍的多种基础上，我们整理了 6 个很酷很实用

近年来，Python 编码技能的需求不断增长。在本作者前面文章介绍的多种基础上，我们整理了 6 个很酷很实用的 Python 编码技巧，您可以使用它们来改进代码、提高 Python 技能。

1. 变量
-----

在 Python 中，我们不需要使用临时变量，直接交换两个变量的值。同时，还可以进行计算赋值。

```
a = 1
b = 2
a, b = b, a
print(a,b)
# 输出：2 1

a = 1
b = 2
a, b = b, a + 2
print(a, b)
# 输出：2 3


```

在单个变量赋值中，可以使用自动解包将可迭代对象解压缩到变量。

```
a, b, c = [1, 2, 3]
print(a)
print(b)
print(c)
# 输出：
1
2
3


```

还可以使用 "*" 将多个值收集到单个变量中——这个 Python 技巧称为打包。

```
a, b* = 1, 2, 3
print(a, b)
# 输出：
1 [2, 3]


```

2. 列表与元组
--------

大多数 Python 程序员都熟悉列表数据结构。元组用的少。它们都是可迭代对象，允许索引，在某些情况下，使用元组可能优于列表。

```
import sys
a = [1, 2, 3, 4, 5]
b = (1, 2, 3, 4, 5)
print(f"列表尺寸: {sys.getsizeof(a)} bytes")
print(f"元组尺寸: {sys.getsizeof(b)} bytes")
# 输出
列表尺寸: 56 bytes
元组尺寸: 48 bytes


```

列表是可变的，元组是不可变的，出于这个原因，元组的内存效率更高。

3. 变量别名
-------

Python 是一种面向对象的编程语言。一切都是对象。因此，将对象分配给变量就是创建对该对象的引用。

当我们将一个变量分配给另一个变量时，我们最终会得到两个引用同一对象的变量。这是一个称为别名的概念。一个别名中的更改将影响另一个别名。有时这种情况会让我们措手不及。

```
a = [1, 2, 3, 4 ,5]
b = a
b[4] = 7
print(a)
print(id(a))
print(id(b))
# 输出：
[1, 2, 3, 4, 7]
60826048
60826048


```

解决方法之一是创建原始对象的克隆而不是引用。

```
a = [1, 2, 3, 4 ,5]
b = a[:]  # 或：b = a.copy()
b[4] = 7
print(a)
print(b)
print(id(a))
print(id(b))
# 输出：
[1, 2, 3, 4, 5]
[1, 2, 3, 4, 7]
63119808
33007416


```

4.f-strings
-----------

Python 3.6 引入了一个名为 f-strings 的字符串格式化方法。

```
x = 10
y = 20
print(f"{x}, {y}")
# 输出：10,20


```

Python 3.8 开始，f-strings 可以同时输出变量标识符名称以及值。

```
x = 10
y = 20
print(f"{x = }, {y = }")
# 输出：
x = 10, y = 20


```

5. 更改元组
-------

我们已经知道元组是不可变的数据结构。尝试更改元组的状态将引发类型错误。但是，如下示例，元组的前两个元素是整数，它们是不可变的。元组的最后一个元素是一个列表，是一个可变对象。

```
a = (1, 2, [1, 2, 3])
a[2].append(4)
print(a)
# 输出：
(1, 2, [1, 2, 3, 4])


```

6. 下划线
------

下划线 "_" 是 Python 中的合法标识符，可以使用它来引用对象。但下划线还有另一个功能：存储上次运行的结果。

以下示例，在第一行输出 ""之前没有任何运行结果，因此我们得到了一个错误。当我们计算 1 + 2 的输出后，交互式解释器会将结果存储在"" 中。

```
>>> print(_)
Traceback (most recent call last):
  File "<pyshell>", line 1, in <module>
NameError: name '_' is not defined
>>> 1+2
3
>>> print(_)
3


```

我们也可以使用 "_" 来表示我们不关心或稍后在程序中不会使用的对象。

```
for _ in range(10):
    print("Hello World!")
# 输出：
Hello World!
Hello World!
Hello World!
Hello World!
Hello World!
Hello World!
Hello World!
Hello World!
Hello World!
Hello World!


```

"_" 另一种用法是避免与 Python 关键字冲突。

```
global_ = 123


```

> ❝
> 
> 文章创作不易，如果您喜欢这篇文章，请关注、点赞并分享给朋友。如有意见和建议，请在评论中反馈！
> 
> ❞