> æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŽŸæ–‡åœ°å€ [mp.weixin.qq.com](https://mp.weixin.qq.com/s?__biz=MjM5NTg2NTU0Ng==&mid=2656642985&idx=2&sn=99c776f068d2a807dd0d0924231aac86&chksm=bd5c710c8a2bf81a734cf3c097586a6a1abe4919e72e92f046e959fd8bf570b0766ec0c4a59a&scene=21#wechat_redirect)

> PHP ä¸€ç›´åœ¨å‘å±•ï¼Œä¿æŒä¸Žæœ€æ–°åŠŸèƒ½å’Œæ”¹è¿›ä¿æŒåŒæ­¥éžå¸¸é‡è¦ã€‚æœ¬æ–‡ä»‹ç»äº†æˆªè‡³ 2023 å¹´æ‚¨åº”è¯¥äº†è§£çš„ 20 é¡¹

PHP ä¸€ç›´åœ¨å‘å±•ï¼Œä¿æŒä¸Žæœ€æ–°åŠŸèƒ½å’Œæ”¹è¿›ä¿æŒåŒæ­¥éžå¸¸é‡è¦ã€‚æœ¬æ–‡ä»‹ç»äº†æˆªè‡³ 2023 å¹´æ‚¨åº”è¯¥äº†è§£çš„ 20 é¡¹ PHP åŠŸèƒ½ï¼Œæ¯ä¸ªåŠŸèƒ½éƒ½é…æœ‰ä¸€ä¸ªæ–¹ä¾¿çš„ä»£ç ç¤ºä¾‹ã€‚

1.str_contains()ï¼š
=================

æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚

```
$sentence = "The quick brown ðŸ¦Š jumps over the lazy ðŸ¶." ; 
$word = "ðŸ¦Š" ; 
if ( str_contains ( $sentence , $word )) { 
    echo  "è¿™ä¸ªå¥å­åŒ…å«ðŸ¦Šã€‚" ; 
}

```

2. str_starts_with():
=====================

æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥ç»™å®šçš„å­—ç¬¦ä¸²å¼€å¤´ã€‚

```
$sentence = "ðŸš€ å‘å°„åˆ°å¤ªç©ºï¼" ; 
if ( str_starts_with ( $sentence , "ðŸš€" )) { 
    echo  "å¥å­ä»¥ç«ç®­è¡¨æƒ…ç¬¦å·å¼€å¤´ï¼" ; 
}

```

3. str_ends_with():
===================

æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥ç»™å®šçš„å­å­—ç¬¦ä¸²ç»“å°¾ã€‚

```
$sentence = "è¿™çœŸçš„æ˜¯ç¾Žå¥½çš„ä¸€å¤©ï¼â˜€ï¸" ; 
if ( str_ends_with ( $sentence , "â˜€ï¸" )) { 
    echo  "å¥å­ä»¥å¤ªé˜³è¡¨æƒ…ç¬¦å·ç»“å°¾ï¼" ; 
}

```

4. get_debug_type():
====================

èŽ·å–å˜é‡çš„ç±»åž‹ã€‚

```
$num= 42 ; 
echo  get_debug_type ( $num ); // â€œæ•´æ•°â€

```

5. get_resource_id():
=====================

è¿”å›žç»™å®šèµ„æºçš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œæˆ–ç§°å¥æŸ„ IDã€‚

```
$file = fopen ( 'test.txt' , 'r' ); 
echo  get_resource_id ( $file ); // ä¾‹å¦‚ï¼Œâ€œ7â€

```

6. fdiv():
==========

æ–°çš„é™¤æ³•å‡½æ•°ï¼ŒåŒ…æ‹¬å¯¹é™¤ä»¥é›¶çš„æ”¯æŒã€‚

```
$result = fdiv ( 10 , 0 );

```

7. preg_last_error_msg():
=========================

è¿”å›žä¸Šæ¬¡ PCRE æ­£åˆ™è¡¨è¾¾å¼æ‰§è¡Œé”™è¯¯ï¼Œä¸ºäººç±»å¯è¯»æ¶ˆæ¯ã€‚

```
preg_match ( '/(/' , '' ); 
echo  preg_last_error_msg (); // è¿”å›ž â€œmissing )â€

```

8. array_key_first():
=====================

èŽ·å–æ•°ç»„çš„ç¬¬ä¸€ä¸ªé”®ï¼ˆKeyï¼‰ã€‚

```
$array = [ 'ðŸ' => 'è‹¹æžœ' , 'ðŸŠ' => 'æ©™å­' , 'ðŸ‡' => 'è‘¡è„' ]; 
echo  array_key_first ( $array ); // "ðŸ"

```

9. array_key_last():
====================

æœ‰ç¬¬ä¸€ä¸ªå°±æœ‰æœ€åŽä¸€ä¸ªï¼Œarray_key_last() ä¸ºèŽ·å–æ•°ç»„çš„æœ€åŽä¸€ä¸ªé”®ã€‚

```
$array = [ 'ðŸ' => 'è‹¹æžœ' , 'ðŸŠ' => 'æ©™å­' , 'ðŸ‡' => 'è‘¡è„' ]; 
echo  array_key_last ( $array ); // "ðŸ‡"

```

10. é”™è¯¯å¼‚å¸¸::getSeverity():
========================

èŽ·å–é”™è¯¯çš„ä¸¥é‡æ€§ã€‚

```
try { 
    trigger_error ( "è‡ªå®šä¹‰é”™è¯¯" , E_USER_WARNING); 
} catch ( ErrorException  $e ) { 
    echo  $e -> getSeverity (); // 512
 }

```

11. è¿‡æ»¤å™¨å‡½æ•°ï¼š
==========

PHP 8 å¼•å…¥äº†å‡ ä¸ªæ–°çš„è¿‡æ»¤å™¨å‡½æ•°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨`filter_var`with çš„ä¾‹å­`FILTER_VALIDATE_BOOL`ï¼š

```
var_dump ( filter_var ( 'yes' , FILTER_VALIDATE_BOOL)); // å¸ƒå°”å€¼ï¼ˆçœŸï¼‰

```

12.Weak Mapï¼š
============

ä¸€ä¸ªåŒ…å«å¯¹è±¡å¼•ç”¨çš„æ–°ç±»ï¼Œå®ƒä¸ä¼šé˜»æ­¢è¿™äº›å¯¹è±¡è¢«åžƒåœ¾å›žæ”¶ã€‚

```
$weakmap = new  WeakMap (); 
$obj =new stdClass();
$weakmap [ $obj ] = 'Hello, world!' ;

```

13. å€¼å¯¹è±¡ï¼š
========

PHP 8 å¼•å…¥äº† Constructor Property Promotionï¼Œä¸€ç§ç”¨äºŽæž„é€ å€¼å¯¹è±¡çš„æ–°è¯­æ³•ã€‚

```
class  Money  {
     public  function  __construct ( 
        public  int  $amount , 
        public  string  $currency
     ) {}
}

 $tenDollars = new  Money ( 10 , 'USD' );

```

14. åŒ¹é…è¡¨è¾¾å¼ï¼š
==========

è¿™æ˜¯ä¸€ä¸ªç±»ä¼¼äºŽ Switch çš„è¯­å¥ã€‚

```
echo match ( 1 ) { 
    0 => 'ðŸš«' , 
    1 => 'âœ…' , 
    default => 'â‰ï¸' , 
};

```

15. Nullsafe è¿ç®—ç¬¦ï¼š
=================

è¿™ä¸ªæ–°è¿ç®—ç¬¦ (?->) å…è®¸åœ¨è®¿é—®å±žæ€§æˆ–æ–¹æ³•æ—¶ï¼Œè¿›è¡Œç©ºå€¼æ£€æŸ¥ã€‚

```
class User {

Â  Â  public function getAddress(): ?Address {

Â  Â  Â  Â  // returns Address or null

Â  Â  }

}

$user = new User();

$country = $user?->getAddress()?->country; // no error if getAddress() returns null

```

16. å‘½åå‚æ•°ï¼š
=========

æ­¤åŠŸèƒ½å…è®¸å¼€å‘è€…é€šè¿‡æŒ‡å®šå€¼çš„åç§°ï¼Œå°†å€¼ä¼ é€’ç»™å‡½æ•°ã€‚

```
new Money(amount: 10, currency: 'USD');

```

17. å±žæ€§ï¼š
=======

åœ¨å…¶å®ƒç¼–ç¨‹è¯­è¨€ä¸­ä¹Ÿç§°ä¸ºæ³¨è§£ã€‚

```
#[Attribute ]
ç±» ExampleAttribute  {} 

#[ExampleAttribute ]
ç±» ExampleClass  {}

```

18. æž„é€ æ–¹æ³•æŽ¨ä»‹ï¼š
===========

æ­¤åŠŸèƒ½å…è®¸å°†ç±»å±žæ€§å’Œæž„é€ å‡½æ•°ç»„åˆåˆ°åŒä¸€ä¸ªå£°æ˜Žä¸­ã€‚

```
class Money {

Â  Â  public function __construct(

Â  Â  Â  Â  public int $amount,

Â  Â  Â  Â  public string $currency

Â  Â  ) {}

}

```

19. è”åˆç±»åž‹ï¼š
=========

æ­¤åŠŸèƒ½å…è®¸å¯ä»¥æ˜¯å¤šç§ç±»åž‹ä¹‹ä¸€çš„ç±»åž‹å£°æ˜Žã€‚

```
function  print_id ( int | string  $id ): void  {
     echo  'ID: ' . $id ; 
}

```

20. å³æ—¶ç¼–è¯‘ï¼ˆJITï¼‰ï¼š
==============

PHP 8 å¼•å…¥äº†ä¸¤ä¸ª JIT ç¼–è¯‘å¼•æ“Žï¼ŒTracing JIT å’Œ Function JITã€‚

æ³¨æ„ï¼šJIT ç¼–è¯‘ä¸æ˜¯å¯ä»¥ç›´æŽ¥ç”¨ä»£ç ç‰‡æ®µæ¼”ç¤ºçš„åŠŸèƒ½ï¼Œä½†å®ƒæ˜¯ PHP 8 ä¸­çš„ä¸€é¡¹é‡è¦æ”¹è¿›ï¼Œå¯ä»¥æä¾›éžå¸¸æ˜Žæ˜¾çš„æ€§èƒ½æ”¹è¿›ã€‚

æ€»ä¹‹ï¼ŒPHP æ˜¯ä¸€ç§ä¸æ–­å‘å±•çš„è¯­è¨€ï¼Œå…·æœ‰è®¸å¤šä»¤äººå…´å¥‹çš„æ–°ç‰¹æ€§å’Œæ”¹è¿›ã€‚

æ— è®ºä½ æ˜¯ç»éªŒä¸°å¯Œçš„ PHP å¼€å‘äººå‘˜è¿˜æ˜¯æ–°æ‰‹ï¼Œéƒ½å€¼å¾—èŠ±æ—¶é—´äº†è§£è¿™äº›æ–°åŠŸèƒ½ï¼Œå¹¶åœ¨è‡ªå·±çš„ä»£ç ä¸­ä½¿ç”¨å®ƒä»¬ã€‚

ä¿æŒå¥½å¥‡ï¼Œä¸æ–­å­¦ä¹ ï¼Œå¿«ä¹ç¼–ç¨‹ï¼ðŸš€

> ä½œè€…ï¼šä¹”ä¹”