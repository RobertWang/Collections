> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/WvTDA6dxn6LhMkwV42l9rg)

设计原则，可以指导我们如何设计出低耦合、高内聚的代码，让代码能够更好的应对变化，从而降本提效。

设计原则的关键，是从使用方的角度进行代码设计，一句话概括就是：请不要让我知道太多，你可以改，但请不要影响我。

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/dj42ibichbicMKJdtIeSVXqMTqaDX3FJ3csm6MzNG3zVn96us8icxEH9rNSkT4LLMIqKGiczCMiakzfc4bK37wwO9IXg/640?wx_fmt=jpeg)

​

单一职责原则（SRP）

定义：一个函数 / 类只能因为一个理由被修改。

单一职责原则，是所有原则中看起来最容易理解的，但是真正做到并不简单。因为遵循这一原则最关键是职责的划分。

职责的划分至少要回答两个基本问题：

什么是你，什么是我？

什么事情归你管，什么事情归我管？

且不说写代码，工作中我们也会出现人人不管或相争的重叠地带，划分清楚职责看起容易，实际很难。

开闭原则（OCP）

定义：对扩展开放，对修改关闭（不修改代码就可以增加新功能）。

要理解开闭原则，关键是要理解定义中隐含着的两个主语，“使用方” 和 “提供方”，即：

提供方可以修改，增加新的功能特性，但是使用方不需要被修改，即可享用新的功能特征。

开闭原则广泛的理解，可以指导类、模块、系统的设计，满足该原则的核心设计方法是：通过协议（接口）交互。

里氏替换原则（LSP）

定义：所有引用父类的地方，必须能透明的使用它的子类对象，指导类继承的设计。

面向对象的继承特性，一方面，子类可以拥有父类的属性和方法，提高了代码的复用性；另一方面，继承是有入侵性的，父类对子类有约束，子类必须拥有父类全部的属性和方法，修改父类会影响子类，增加了耦合性。

里氏替换原则是对继承进行了约束，体现在以下方面：

子类可以实现父类的抽象方法，但不能重写（覆盖）父类的非抽象方法；

子类可以增加父类所没有的属性和方法；

子类重写父类方法时，输入参数类型要和父类的一致，或更宽松（参数类型的父类）；

子类重写父类方法时，返回值类型要和父类的一致，或更严谨（返回类型的子类）。

依赖倒置原则（DIP）

定义：高层模块不应该依赖低层模块，两者都应该依赖其抽象；抽象不应该依赖细节，细节应该依赖抽象，目的是降低层与层之间的耦合。

从倒置来看，该原则可以有更泛化的理解：

依赖实体的倒置：高层不依赖底层模块，抽象不依赖细节；

依赖控制的倒置：依赖具体对象的创建控制，从程序内部交给外部。

接口隔离原则（ISP）

定义：客户端不应该被强迫去依赖它并不需要的接口。

理解接口隔离原则，需要拿单一职责的原则做对比。细品一下，如果一个接口满足了

单一职责，是否就也就满足接口隔离原则？

单一职责原则，解决了接口内聚的问题。

接口隔离原则，认为某些场景下需要存在非内聚接口（多职责），但是又不希望客户端知道整个类，客户端只要知道具有内聚接口的抽象父类即可。

简单来讲，接口隔离原则解决的问题是，当某些类不满足职责单一原则时，客户端不应该直接使用它们，而是通过增加接口类，通过它隐藏客户端不需要感知到的部分。