> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/MnxCWTe0-Yz98gKM8g9SDw)

PHP 防刷注册攻击的实战案例与解决方案

引言：

随着互联网的快速发展，网络安全问题也日益严重。其中，注册防刷攻击是一种常见的攻击手段，攻击者利用自动化脚本或恶意程序大量注册账号，极大地消耗服务器资源，影响正常的网站使用。本文将介绍一种基于 PHP 的实际案例，并提供相应的防御解决方案。

案例背景：

假设我们有一个用户注册功能，用户需要输入用户名、密码、电子邮件地址等信息进行注册。系统在接收到用户提交的注册信息后，将通过 PHP 脚本将用户信息写入数据库。

攻击者利用自动化程序或脚本，一次性向服务器发送大量的注册请求，瞬间注册大量恶意账号。这种攻击方式会导致服务器资源耗尽，正常用户无法进行注册或登录，给网站造成严重困扰。

防御方案：

1.  添加验证码功能
    

验证码是目前最常用的防止机器人攻击的手段之一。通过在用户注册页面添加验证码功能，可以要求用户输入图片中的验证码，从而确保用户是真实的。

代码示例：

<table cellpadding="0" cellspacing="0" width="954"><tbody><tr><td width="906"><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&lt;!-- 在注册页面的表单中添加验证码输入框 --&gt;</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&lt;form action=</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">"register.php"</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">method=</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">"post"</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&gt;</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&lt;!-- 其他表单字段 --&gt;</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;" class=""><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&lt;label </code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-weight: bold !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">for</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">=</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">"captcha"</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&gt;验证码：&lt;/label&gt;</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&lt;input type=</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">"text"</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">name=</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">"captcha"</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">id=</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">"captcha"</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">required&gt;</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;" class=""><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&lt;img src=</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">"captcha.php"</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">alt=</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">"验证码"</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&gt;</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&lt;!-- 其他表单字段 --&gt;</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;" class=""><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&lt;button type=</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">"submit"</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&gt;注册&lt;/button&gt;</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&lt;/form&gt;</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&lt;!-- 生成验证码的captcha.php文件 --&gt;</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;" class=""><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&lt;?php</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">session_start();</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 生成随机验证码</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$code</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">= </code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">substr</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">(md5(rand()), 0, 4);</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 将验证码存入SESSION中</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$_SESSION</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">[</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">'captcha'</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">] = </code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$code</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">;</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 创建一个空白图片</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$image</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">= imagecreatetruecolor(80, 40);</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 设置颜色</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$bgColor</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">= imagecolorallocate(</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$image</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">, 255, 255, 255);</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$textColor</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">= imagecolorallocate(</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$image</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">, 0, 0, 0);</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 填充背景色</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">imagefill(</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$image</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">, 0, 0, </code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$bgColor</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">);</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 写入验证码</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">imagestring(</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$image</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">, 5, 20, 10, </code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$code</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">, </code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;" class="">$textColor</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">);</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 输出图片</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;" class=""><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">header(</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">'Content-type: image/jpeg'</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">);</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">imagejpeg(</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$image</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">);</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 销毁图片</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">imagedestroy(</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$image</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">);</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">?&gt;</code></p></td></tr></tbody></table>

在上述代码中，首先需要在注册页面的表单中添加验证码输入框。用户需要正确输入验证码才能完成注册。同时，为了生成验证码图片，需要在服务器上创建一个 captcha.php 文件。该文件生成随机的验证码，并将其存储在 SESSION 中。然后，使用 PHP 的`imagecreatetruecolor()`函数创建一个空白图片，设置背景色和文字颜色，并将验证码写入图片中。最后，通过 header 函数将生成的验证码图片输出到浏览器中。

2.  添加 IP 和用户限制
    

通过限制同一 IP 或同一用户在一定时间内只能注册一次，可以有效减缓注册防刷攻击的影响。

代码示例：

<table cellpadding="0" cellspacing="0" width="954"><tbody><tr><td width="906" class=""><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&lt;?php</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">session_start();</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 获取IP地址</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$ip</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">= </code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$_SERVER</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">[</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">'REMOTE_ADDR'</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">];</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 获取用户ID或其他唯一标识符</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$userId</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">= isset(</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$_SESSION</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">[</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">'user_id'</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">]) ? </code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$_SESSION</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">[</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">'user_id'</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">] : </code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">''</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">;</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 设置时间间隔限制（单位：秒）</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$timeLimit</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">= 60;</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 检查用户是否已经在规定时间内注册过</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-weight: bold !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">if</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">(checkRegistrationLimit(</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$ip</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">, </code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$userId</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">, </code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$timeLimit</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">)) {</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 用户已经在规定时间内注册过，显示错误信息，禁止注册</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">echo</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">'您已经在规定时间内注册过了！'</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">;</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">exit</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">;</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">}</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 其他注册逻辑</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 完成注册后记录IP和用户信息</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">recordRegistrationInfo(</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$ip</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">, </code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$userId</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">);</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 其他后续操作</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 检查用户是否在规定时间内已经注册过</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-weight: bold !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">function</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">checkRegistrationLimit(</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$ip</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">, </code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$userId</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">, </code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$timeLimit</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">) {</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;" class=""><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 在数据库或文件中记录用户注册时间</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 判断是否在指定时间内已经注册过</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 返回true或false</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">}</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 记录用户注册信息</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-weight: bold !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">function</code> <code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">recordRegistrationInfo(</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">$ip</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">, </code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;" class="">$userId</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">) {</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;</code><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">// 在数据库或文件中记录用户IP和用户ID等信息</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">}</code></p><p data-style="margin-top: 15px; margin-bottom: 15px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: 1.5em; border-radius: 8px; font-size: 16px; color: rgb(61, 70, 77); padding-right: 1em !important; padding-left: 1em !important; border-left: 3px solid rgb(67, 90, 95); white-space-collapse: preserve !important;"><code data-style="padding: 2px 4px; font-size: 13px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; inset: auto !important; float: none !important; line-height: 1.5em !important; outline: 0px !important; overflow: visible !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">?&gt;</code></p></td></tr></tbody></table>

在上述代码中，首先通过`$_SERVER['REMOTE_ADDR']`获取用户的 IP 地址，通过`$_SESSION['user_id']`获取用户的 ID 或其他唯一标识符。设置一个时间间隔限制，例如 60 秒。然后，通过`checkRegistrationLimit()`函数检查用户是否在规定时间内已经注册过。如果是，则显示错误信息，禁止注册；否则，执行其他注册逻辑，并在注册完成后使用`recordRegistrationInfo()`函数记录用户的 IP 和用户 ID 等信息。

结论：

通过添加验证码功能、IP 和用户限制等方法，可以有效地防止 PHP 注册防刷攻击。在实际开发中，可以根据具体情况做出相应调整，增加其他安全措施，从而提高网站的安全性。

以上就是 PHP 防刷注册攻击的实战案例与解决方案的详细内容，更多请关注其它相关文章！